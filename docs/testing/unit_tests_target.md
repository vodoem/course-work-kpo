# Целевой класс для ≥20 unit-тестов

## Почему нужен отдельный целевой класс
Чтобы тесты были стабильными и детерминированными, выбираем «чистый» класс без UI и без потоков.

## Рекомендуемая цель: GameWorldUpdateService
Сервис обновления мира за 1 тик:
- применяет эффекты бонусов,
- двигает объекты,
- считает коллизии,
- начисляет очки/энергию,
- формирует события.

### Техническое требование для тестов
- Вынести случайность в `IRandomProvider` (или seedable Random).
- Вынести время (dt) параметром.

## Набор тест-кейсов (скелет)
1. Сбор голубого кристалла даёт 8..10 очков (при фиксированном рандоме — фиксированное значение).
2. Сбор зелёного кристалла даёт 5..7 очков.
3. Сбор красного кристалла даёт 1..4 очка.
4. Ускоритель увеличивает очки на 25% (округление/тип — определить и зафиксировать).
5. Ускоритель увеличивает скорость дрона в 1.6 раза.
6. Стабилизатор замедляет опасные объекты на 35%.
7. Стабилизатор добавляет +5 секунд к таймеру уровня.
8. Магнит притягивает кристалл внутри 120px к дрону.
9. Магнит не влияет на кристалл вне 120px.
10. Астероид при коллизии уменьшает энергию на 10.
11. Чёрная дыра в радиусе 220px создаёт ускорение к центру (направление корректное).
12. Чёрная дыра вызывает дезориентацию (флаг/состояние) на заданное время.
13. Коллизия AABB учитывает soft margin 8px.
14. Объекты ниже нижней границы помечаются на удаление.
15. Скорость падения увеличивается по формуле роста с уровнем.
16. Пауза останавливает обновление мира (позиции/таймер/спавн не меняются).
17. Снятие паузы включает отсчёт 3..1 (события корректны).
18. Победа: достижение RequiredScore + выполнены цели по типам.
19. Поражение: timeLeftSec<=0.
20. Поражение: energy<=0.
21. Спавн создаёт объект выше верхней границы и внутри X-границ поля.
22. При сборе объекта публикуется правильное доменное событие.

Этот список можно расширять, но важно, чтобы суммарно было ≥20 и они были независимыми.
