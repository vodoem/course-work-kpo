# Работа с Codex в этом репозитории

Этот пакет документов создан как «единый источник правды» для Codex и людей.
Цель: чтобы Codex мог быстро понять требования, архитектурные границы и критерии готовности, а вы — быстро проверять результат.

## Как использовать (рекомендуемый ритм)
1. **Перед задачей:** сформулируйте цель + критерии готовности (см. `docs/codex/prompt_cookbook.md`).
2. **Если задача средняя/большая:** попросите Codex сделать план (`/plan` или просто «составь план»).
3. **После плана:** проверьте, что соблюдены ограничения из `docs/spec/requirements.md` и `docs/architecture/*`.
4. **Во время работы:** требуйте, чтобы Codex:
   - менял файлы минимально и атомарно;
   - запускал сборку/тесты;
   - писал краткие и понятные commit messages (если вы используете режим, где агент коммитит).
5. **После:** сверяйте дифф с `docs/spec/acceptance_checklist.md` и `docs/testing/unit_tests_target.md`.

## Где что лежит
- `docs/spec/*` — требования и правила игры.
- `docs/architecture/*` — границы модулей, события, потоки.
- `docs/testing/*` — что тестируем и какие тест-кейсы нужны.
- `.codex/skills/*` — «скилл» Codex, который подхватывается автоматически (если Codex запускается в репозитории).
- `.agent/PLANS.md` + `plans/*` — шаблон «ExecPlan» для больших задач (опционально, но полезно).

## Главное правило
Если что-то конфликтует — приоритет такой:
1) `docs/spec/requirements.md` и `docs/spec/acceptance_checklist.md`
2) `docs/architecture/*`
3) `Соглашение по стилю` (см. `docs/spec/csharp_style_summary.md`)
4) «красота/рефакторинги», которые не улучшают соответствие требованиям.
